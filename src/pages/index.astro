---
import BaseLayout from '../layouts/Baselayout.astro';
import { SITE_TITLE, SITE_DESCRIPTION } from '../consts';
---

<BaseLayout title={SITE_TITLE} description={SITE_DESCRIPTION}>
  <div class="hero-container">
    <div class="magnetic-area" id="magnetic-area">
      <h1 class="hero-title" id="hero-title">
        <span class="line line-1">The Lust for life</span>
        <span class="line line-2">keeps us alive</span>
      </h1>
    </div>
    <p class="subtitle">This is crescentyves</p>
  </div>
</BaseLayout>

<script>
  function initMagnetic() {
    const area = document.getElementById('magnetic-area');
    const title = document.getElementById('hero-title');
    if (area && title) {
      area.addEventListener('mousemove', (e) => {
        const rect = area.getBoundingClientRect();
        const deltaX = e.clientX - (rect.left + rect.width / 2);
        const deltaY = e.clientY - (rect.top + rect.height / 2);
        title.style.transform = `perspective(1000px) translate3d(${deltaX * 0.22}px, ${deltaY * 0.22}px, 0) rotateX(${-deltaY * 0.04}deg) rotateY(${deltaX * 0.04}deg)`;
      });
      area.addEventListener('mouseleave', () => {
        title.style.transform = `perspective(1000px) translate3d(0,0,0) rotateX(0) rotateY(0)`;
      });
    }
  }
  document.addEventListener('astro:page-load', initMagnetic);
</script>

<style>
  .hero-container {
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    min-height: 85vh;
  }

  .magnetic-area {
    padding: 150px;
    margin: -150px;
    display: flex;
    justify-content: center;
    align-items: center;
  }

  .hero-title {
    font-family: var(--font-serif);
    font-size: clamp(3.5rem, 12vw, 9.5rem);
    font-weight: 800;
    line-height: 0.92;
    text-align: center;
    transition: transform 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
    pointer-events: none;
  }

  .line {
    display: block;
    opacity: 0;
    animation: cinematic-reveal 2s cubic-bezier(0.19, 1, 0.22, 1) forwards;
  }

  .line-1 {
    color: var(--c-ice-blue);
    filter: blur(0.6px); /* 冰蓝色柔焦 */
    text-shadow:
      0 0 20px rgba(179, 217, 255, 0.5),
      0 10px 40px rgba(0, 30, 90, 0.3);
  }

  .line-2 {
    color: #FFF100;
    font-style: italic;
    margin-top: 1rem;
    animation-delay: 0.2s;
    filter: blur(0.4px);
    text-shadow: 0 10px 40px rgba(0, 30, 90, 0.3);
  }

  .subtitle {
    margin-top: 5rem;
    font-size: 1.1rem;
    letter-spacing: 0.4em;
    text-transform: uppercase;
    color: var(--c-ice-blue);
    filter: blur(0.5px);
    opacity: 0;
    animation: fade-in 1.2s ease-out 1s forwards;
  }

  @keyframes cinematic-reveal {
    from { opacity: 0; filter: blur(15px); transform: translateY(50px); }
    to { opacity: 1; filter: blur(0.6px); transform: translateY(0); }
  }
  @keyframes fade-in { to { opacity: 0.8; } }
</style>