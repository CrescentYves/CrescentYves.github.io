---
import BaseLayout from '../layouts/Baselayout.astro';
import { SITE_TITLE, SITE_DESCRIPTION } from '../consts';
---

<BaseLayout title={SITE_TITLE} description={SITE_DESCRIPTION}>
  <div class="hero-container">
    <div class="magnetic-area" id="magnetic-area">
      <h1 class="hero-title" id="hero-title">
        <!-- 上半句：冰蓝色 + 柔焦 -->
        <span class="line line-1">The Lust for life</span>
        <!-- 下半句：保持黄色撞色 -->
        <span class="line line-2">keeps us alive</span>
      </h1>
    </div>
    <!-- 副标题：同步冰蓝色 -->
    <p class="subtitle">This is crescentyves</p>
  </div>
</BaseLayout>

<script>
  function initMagneticHero() {
    const area = document.getElementById('magnetic-area');
    const title = document.getElementById('hero-title');
    if (area && title) {
      area.addEventListener('mousemove', (e) => {
        const { clientX, clientY } = e;
        const rect = area.getBoundingClientRect();
        const centerX = rect.left + rect.width / 2;
        const centerY = rect.top + rect.height / 2;
        const deltaX = clientX - centerX;
        const deltaY = clientY - centerY;
        title.style.transform = `perspective(1000px) translate3d(${deltaX * 0.2}px, ${deltaY * 0.2}px, 0) rotateX(${-deltaY * 0.04}deg) rotateY(${deltaX * 0.04}deg)`;
      });
      area.addEventListener('mouseleave', () => {
        title.style.transform = `perspective(1000px) translate3d(0, 0, 0) rotateX(0) rotateY(0)`;
      });
    }
  }
  document.addEventListener('astro:page-load', initMagneticHero);
</script>

<style>
  .hero-container {
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    min-height: 85vh;
  }

  .magnetic-area {
    padding: 150px;
    margin: -150px;
    display: flex;
    justify-content: center;
    align-items: center;
  }

  .hero-title {
    font-family: var(--font-serif);
    font-size: clamp(3.5rem, 12vw, 9rem);
    font-weight: 800;
    line-height: 0.95;
    text-align: center;
    transition: transform 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
    pointer-events: none;
  }

  .line {
    display: block;
    opacity: 0;
    animation: cinematic-reveal 1.8s cubic-bezier(0.19, 1, 0.22, 1) forwards;
  }

  .line-1 {
    /* 颜色改为冰蓝 */
    color: var(--c-ice-blue);

    /* 增加微弱的模糊感，模拟胶片柔焦效果 */
    filter: blur(0.6px);

    /* 增加柔光晕：一层浅蓝色光晕 + 一层深色底影确保读数 */
    text-shadow:
      0 0 15px rgba(179, 217, 255, 0.6),
      0 0 30px rgba(179, 217, 255, 0.3),
      0 10px 40px rgba(0, 30, 90, 0.4);
  }

  .line-2 {
    color: #FFF100;
    font-style: italic;
    margin-top: 1rem;
    animation-delay: 0.2s;
    /* 黄色也加一点微弱柔焦保持风格统一 */
    filter: blur(0.4px);
    text-shadow: 0 10px 40px rgba(0, 30, 90, 0.4);
  }

  .subtitle {
    margin-top: 5rem;
    font-size: 1.1rem;
    letter-spacing: 0.4em;
    text-transform: uppercase;
    /* 副标题同步冰蓝 */
    color: var(--c-ice-blue);
    opacity: 0;
    filter: blur(0.5px);
    text-shadow: 0 0 10px rgba(179, 217, 255, 0.4);
    animation: fade-in 1.2s ease-out 1s forwards;
  }

  @keyframes cinematic-reveal {
    from { opacity: 0; filter: blur(20px); transform: translateY(50px); }
    to { opacity: 1; filter: blur(0.6px); transform: translateY(0); }
  }

  @keyframes fade-in {
    to { opacity: 0.8; }
  }

  @media (max-width: 768px) {
    .hero-title { font-size: 3.5rem; }
  }
</style>