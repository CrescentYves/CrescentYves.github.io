---
import BaseLayout from '../../layouts/Baselayout.astro';
import { getCollection } from 'astro:content';

export async function getStaticPaths() {
  const works = await getCollection('works');
  return works.map((w) => ({
    params: { slug: w.slug },
    props: { entry: w },
  }));
}

const { entry } = Astro.props;
const { Content } = await entry.render();
---

<BaseLayout title={entry.data.title} description={entry.data.description ?? ''}>
  <main style="max-width: 900px; margin: 0 auto; padding: 48px 16px;">
    <h1>{entry.data.title}</h1>
    <Content />
  </main>
</BaseLayout>
